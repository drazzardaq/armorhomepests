import{r as e,f as t,j as r,G as l,g as a,H as o,a as s,o as n,y as p,d,b as i,F as u,m as c,z as h,n as b,t as y}from"./vendor-Bsq-BPjQ.js";const f={key:0,class:"DUIMX-docs prose prose-purple max-w-none"},g=["width","height"],m={key:0,class:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm"},v={key:1,class:"absolute top-2 right-2 flex gap-1"},x=["onClick"],w={key:2,class:"absolute bottom-2 left-2 p-2 rounded text-xs backdrop-blur-sm",style:{backgroundColor:"rgba(0,0,0,0.5)",color:"#fff"}},k={__name:"DimGraph3D",props:{isDocs:{type:Boolean,default:!1},chartType:{type:String,default:"bar"},data:{type:Array,default:()=>[]},interactive:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},showAxes:{type:Boolean,default:!0},showControls:{type:Boolean,default:!0},showInfo:{type:Boolean,default:!0},colorScheme:{type:String,default:"gradient"},wireframe:{type:Boolean,default:!1},transparency:{type:Number,default:.8},roundness:{type:Number,default:16},primaryColor:{type:String,default:"#6366f1"},bgColor:{type:String,default:"#1e293b"},textColor:{type:String,default:"#e2e8f0"},fontFamily:{type:String,default:"inherit"},theme:{type:String,default:"dark"},width:{type:Number,default:400},height:{type:Number,default:300},padding:{type:Number,default:16},margin:{type:Number,default:16},boxShadow:{type:String,default:"0 4px 6px rgba(0, 0, 0, 0.1)"},borderWidth:{type:Number,default:1},animation:{type:String,default:"none"}},emits:["chartTypeChange","dataHover"],setup(k,{emit:z}){const C=k,T=z,M=e(null),S=e(null),D=e(!0),A=e(!1),P=e({x:0,y:0}),I=e({x:20,y:45,z:0}),B=e(1),$=e({x:0,y:0}),W=["bar","surface","scatter","line"],F=t((()=>C.data&&C.data.length>0?C.data:(()=>{const e=[];for(let t=0;t<15;t++)for(let r=0;r<15;r++)e.push({x:t-7,y:r-7,z:Math.sin(.5*t)*Math.cos(.5*r)*3+2*Math.random(),color:`hsl(${t*r*10%360}, 70%, 60%)`});return e})())),N=t((()=>({fontFamily:C.fontFamily,width:`${C.width}px`,height:`${C.height}px`,margin:`${C.margin}px`,padding:`${C.padding}px`}))),R=t((()=>({backgroundColor:C.bgColor,borderRadius:`${C.roundness}px`,border:`${C.borderWidth}px solid ${C.primaryColor}20`,boxShadow:C.boxShadow,width:"100%",height:"100%"}))),X=t((()=>C.width-2*C.padding)),E=t((()=>C.height-2*C.padding)),G=()=>{if(!S.value)return;const e=S.value.getContext("2d"),t=X.value/2,r=E.value/2;e.clearRect(0,0,X.value,E.value),e.save(),e.translate(t+$.value.x,r+$.value.y),e.scale(B.value,B.value),"bar"===C.chartType?_(e):"surface"===C.chartType?Y(e):"scatter"===C.chartType?j(e):"line"===C.chartType&&q(e),C.showAxes&&H(e),e.restore()},_=e=>{F.value.forEach((t=>{const r=U(t.x,t.y,t.z),l=L(t.x,t.y,t.z),a=L(t.x,t.y,0);let o=C.primaryColor;if("gradient"===C.colorScheme){o=`hsl(${240+120*((t.z+5)/10)}, 70%, 60%)`}else"rainbow"===C.colorScheme&&(o=t.color||o);e.fillStyle=o,e.globalAlpha=C.transparency,e.fillRect(r-5,l,10,a-l),C.wireframe&&(e.strokeStyle=C.textColor,e.lineWidth=1,e.strokeRect(r-5,l,10,a-l))})),e.globalAlpha=1},Y=e=>{const t=Math.sqrt(F.value.length);for(let r=0;r<t-1;r++)for(let l=0;l<t-1;l++){const a=F.value[r*t+l],o=F.value[r*t+(l+1)],s=F.value[(r+1)*t+l],n=F.value[(r+1)*t+(l+1)];if(!(a&&o&&s&&n))continue;e.beginPath(),e.moveTo(U(a.x,a.y,a.z),L(a.x,a.y,a.z)),e.lineTo(U(o.x,o.y,o.z),L(o.x,o.y,o.z)),e.lineTo(U(n.x,n.y,n.z),L(n.x,n.y,n.z)),e.lineTo(U(s.x,s.y,s.z),L(s.x,s.y,s.z)),e.closePath();const p=((a.z+o.z+s.z+n.z)/4+5)/10;e.fillStyle=`hsl(${240+120*p}, 70%, 60%)`,e.globalAlpha=C.transparency,e.fill(),C.wireframe&&(e.strokeStyle=C.textColor,e.lineWidth=.5,e.stroke())}e.globalAlpha=1},j=e=>{F.value.forEach((t=>{const r=U(t.x,t.y,t.z),l=L(t.x,t.y,t.z),a=3+(t.z+5)/2;e.beginPath(),e.arc(r,l,a,0,2*Math.PI);const o=(t.z+5)/10;e.fillStyle=`hsl(${240+120*o}, 70%, 60%)`,e.globalAlpha=C.transparency,e.fill(),C.wireframe&&(e.strokeStyle=C.textColor,e.lineWidth=1,e.stroke())})),e.globalAlpha=1},q=e=>{F.value.length<2||(e.strokeStyle=C.primaryColor,e.lineWidth=2,e.globalAlpha=C.transparency,e.beginPath(),F.value.forEach(((t,r)=>{const l=U(t.x,t.y,t.z),a=L(t.x,t.y,t.z);0===r?e.moveTo(l,a):e.lineTo(l,a)})),e.stroke(),e.globalAlpha=1)},H=e=>{e.strokeStyle=C.textColor,e.lineWidth=1,e.globalAlpha=.5,e.beginPath(),e.moveTo(U(-8,0,0),L(-8,0,0)),e.lineTo(U(8,0,0),L(8,0,0)),e.stroke(),e.beginPath(),e.moveTo(U(0,-8,0),L(0,-8,0)),e.lineTo(U(0,8,0),L(0,8,0)),e.stroke(),e.beginPath(),e.moveTo(U(0,0,-5),L(0,0,-5)),e.lineTo(U(0,0,5),L(0,0,5)),e.stroke(),e.globalAlpha=1},U=(e,t,r)=>{I.value.x,Math.PI;const l=I.value.y*Math.PI/180;return 8*(e*Math.cos(l)-r*Math.sin(l))},L=(e,t,r)=>{const l=I.value.x*Math.PI/180,a=I.value.y*Math.PI/180,o=e*Math.sin(a)+r*Math.cos(a);return 8*-(t*Math.cos(l)-o*Math.sin(l))-2*(t*Math.sin(l)+o*Math.cos(l))},V=e=>{C.interactive&&(A.value=!0,P.value={x:e.clientX,y:e.clientY})},Z=e=>{if(!C.interactive||!A.value)return;const t=e.clientX-P.value.x,r=e.clientY-P.value.y;I.value.y+=.5*t,I.value.x+=.5*r,P.value={x:e.clientX,y:e.clientY},G()},J=()=>{A.value=!1},K=e=>{if(!C.interactive)return;e.preventDefault();const t=.001*e.deltaY;B.value=Math.max(.1,Math.min(3,B.value-t)),G()};let O;r((async()=>{await l(),setTimeout((()=>{D.value=!1,G()}),500)})),a([()=>C.chartType,()=>C.data,()=>C.theme],G),a([X,E],G);const Q=()=>{C.animated&&!A.value&&(I.value.y+=.5,G()),O=requestAnimationFrame(Q)};return r((()=>{C.animated&&Q()})),o((()=>{O&&cancelAnimationFrame(O)})),(e,t)=>k.isDocs?(n(),s("div",f,t[0]||(t[0]=[p('<div class="mb-6 rounded-lg border border-purple-500/20 bg-gradient-to-r from-purple-500/10 to-pink-500/10 p-4"><h2 class="mb-2 text-2xl font-bold text-purple-300">ğŸ“Š DUIMX 3D Graph</h2><p class="text-purple-200">Interactive 3D data visualization with multiple chart types and customization options.</p></div><h3 class="text-xl font-semibold text-purple-300 mb-3">âœ¨ Features</h3><ul class="mb-6 space-y-2 text-purple-200"><li>ğŸ“Š <strong>Multiple Chart Types</strong> - Bar, line, surface, scatter plots</li><li>ğŸ”„ <strong>Interactive Controls</strong> - Rotation, zoom, pan</li><li>ğŸ¨ <strong>Customizable Styling</strong> - Colors, gradients, materials</li><li>ğŸ“± <strong>Responsive Design</strong> - Adapts to container size</li><li>ğŸ’« <strong>Animations</strong> - Smooth data transitions</li><li>ğŸŒ“ <strong>Theme Support</strong> - Light and dark modes</li></ul><h3 class="text-xl font-semibold text-purple-300 mb-3">ğŸ› ï¸ Props</h3><div class="mb-6 overflow-x-auto"><table class="w-full border-collapse border border-purple-500/30"><thead><tr class="bg-purple-500/20"><th class="border border-purple-500/30 p-2 text-left text-purple-300">Prop</th><th class="border border-purple-500/30 p-2 text-left text-purple-300">Type</th><th class="border border-purple-500/30 p-2 text-left text-purple-300">Default</th><th class="border border-purple-500/30 p-2 text-left text-purple-300">Description</th></tr></thead><tbody class="text-purple-200"><tr><td class="border border-purple-500/30 p-2 font-mono">chartType</td><td class="border border-purple-500/30 p-2">String</td><td class="border border-purple-500/30 p-2">&#39;bar&#39;</td><td class="border border-purple-500/30 p-2">Type of 3D chart</td></tr><tr><td class="border border-purple-500/30 p-2 font-mono">data</td><td class="border border-purple-500/30 p-2">Array</td><td class="border border-purple-500/30 p-2">[]</td><td class="border border-purple-500/30 p-2">Chart data points</td></tr><tr><td class="border border-purple-500/30 p-2 font-mono">interactive</td><td class="border border-purple-500/30 p-2">Boolean</td><td class="border border-purple-500/30 p-2">true</td><td class="border border-purple-500/30 p-2">Enable interaction</td></tr><tr><td class="border border-purple-500/30 p-2 font-mono">animated</td><td class="border border-purple-500/30 p-2">Boolean</td><td class="border border-purple-500/30 p-2">true</td><td class="border border-purple-500/30 p-2">Enable animations</td></tr><tr><td class="border border-purple-500/30 p-2 font-mono">showAxes</td><td class="border border-purple-500/30 p-2">Boolean</td><td class="border border-purple-500/30 p-2">true</td><td class="border border-purple-500/30 p-2">Show axis lines</td></tr></tbody></table></div><h3 class="text-xl font-semibold text-purple-300 mb-3">ğŸ“Š Chart Types</h3><div class="mb-6 grid grid-cols-2 gap-4"><div class="rounded-lg border border-purple-500/30 bg-slate-800/30 p-3"><h4 class="text-purple-300 font-semibold">bar</h4><p class="text-purple-200 text-sm">3D bar chart with height mapping</p></div><div class="rounded-lg border border-purple-500/30 bg-slate-800/30 p-3"><h4 class="text-purple-300 font-semibold">surface</h4><p class="text-purple-200 text-sm">3D surface plot with grid</p></div><div class="rounded-lg border border-purple-500/30 bg-slate-800/30 p-3"><h4 class="text-purple-300 font-semibold">scatter</h4><p class="text-purple-200 text-sm">3D scatter plot with points</p></div><div class="rounded-lg border border-purple-500/30 bg-slate-800/30 p-3"><h4 class="text-purple-300 font-semibold">line</h4><p class="text-purple-200 text-sm">3D line chart with connections</p></div></div><div class="mb-6 rounded-lg border border-purple-500/30 bg-gradient-to-r from-blue-500/10 to-purple-500/10 p-4"><p class="text-center text-purple-200"><strong>ğŸ”— Source Code:</strong><a href="https://github.com/drazzardaq/opensource/blob/master/src/opensource/DimGraph3D.vue" target="_blank" class="text-purple-300 hover:text-purple-100 transition-colors underline"> View on GitHub </a></p></div>',8)]))):(n(),s("div",{key:1,class:"DUIMX-graph-3d w-full",style:h(N.value)},[d("div",{ref_key:"sceneContainer",ref:M,class:"relative overflow-hidden transition-all duration-300",style:h(R.value),onMousedown:V,onMousemove:Z,onMouseup:J,onWheel:K},[d("canvas",{ref_key:"canvas",ref:S,width:X.value,height:E.value,class:"block w-full h-full"},null,8,g),D.value?(n(),s("div",m,t[1]||(t[1]=[d("div",{class:"flex items-center gap-2 text-white"},[d("div",{class:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"}),d("span",null,"Loading 3D scene...")],-1)]))):i("",!0),k.showControls&&k.interactive?(n(),s("div",v,[(n(),s(u,null,c(W,(e=>d("button",{key:e,class:b(["px-2 py-1 text-xs rounded transition-colors",e===k.chartType?"font-semibold":"opacity-70"]),style:h({backgroundColor:e===k.chartType?k.primaryColor:"rgba(255,255,255,0.1)",color:e===k.chartType&&"dark"===k.theme?"#000":"#fff"}),onClick:t=>(e=>{T("chartTypeChange",e),G()})(e)},y(e),15,x))),64))])):i("",!0),k.showInfo?(n(),s("div",w,[d("div",null,"Data Points: "+y(F.value.length),1),d("div",null,"Rotation: "+y(Math.round(I.value.x))+"Â°, "+y(Math.round(I.value.y))+"Â°",1),d("div",null,"Zoom: "+y(Math.round(100*B.value))+"%",1)])):i("",!0)],36)],4))}};export{k as default};
