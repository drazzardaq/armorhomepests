import{r as e,R as a,f as t,j as r,G as l,H as o,g as s,a as n,o as d,y as u,d as i,l as p,B as c,c as v,z as g,n as h,q as b,C as f,w as m,b as y,T as x,F as w,m as C,t as k}from"./vendor-Bsq-BPjQ.js";import{_ as S,F as $}from"./index-CorsBbts.js";import"./swiper-_507E8FR.js";const q={key:0,class:"DUIMX-docs prose prose-purple max-w-none"},B={class:"search-wrapper relative flex items-center"},D={class:"search-icon absolute left-3 z-10 flex items-center justify-center"},M={key:0,class:"animate-spin"},F=["placeholder","disabled","aria-label","aria-expanded","aria-activedescendant"],T=["disabled"],I=["aria-label"],z=["id","aria-selected","onMousedown","onMouseenter"],P=["innerHTML"],N={key:0,class:"flex-shrink-0 text-xs opacity-40"},A={class:"sr-only","aria-live":"polite","aria-atomic":"true"},R={key:0},U=S({__name:"DimSearchBar",props:{roundness:{type:Number,default:8},primaryColor:{type:String,default:"#6366f1"},bgColor:{type:String,default:"#ffffff"},textColor:{type:String,default:"#1f2937"},fontFamily:{type:String,default:"inherit"},width:{type:Number,default:320},height:{type:Number,default:48},padding:{type:Number,default:12},margin:{type:Number,default:8},theme:{type:String,default:"light"},compact:{type:Boolean,default:!1},borderWidth:{type:Number,default:1},placeholder:{type:String,default:"Search anything..."},suggestions:{type:Array,default:()=>["JavaScript tutorials","Vue.js components","React hooks","CSS animations","Web development"]},isDocs:{type:Boolean,default:!1},debounceDelay:{type:Number,default:300},minSearchLength:{type:Number,default:1},maxSuggestions:{type:Number,default:8},autoComplete:{type:Boolean,default:!0},clearOnEscape:{type:Boolean,default:!0},highlightMatches:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},selectOnTab:{type:Boolean,default:!0}},emits:["search","input","suggestion-select","focus","blur","clear"],setup(S,{emit:U}){const _=S,L=U,j=e(null),E=e(null),H=e(null),O=e(""),X=e(!1),V=e(!1),W=e(-1),J=e(!1),G=e([]);let K=null;const Y=e(null);a((()=>{Y.value&&(Y.value.style.setProperty("--primary-color",_.primaryColor),Y.value.style.setProperty("--bg-color",_.bgColor),Y.value.style.setProperty("--text-color",_.textColor),Y.value.style.setProperty("--font-family",_.fontFamily),Y.value.style.setProperty("--border-radius",`${_.roundness}px`),Y.value.style.setProperty("--width",`${_.width}px`),Y.value.style.setProperty("--height",`${_.height}px`),Y.value.style.setProperty("--padding",`${_.padding}px`),Y.value.style.setProperty("--margin",`${_.margin}px`))}));const Q=t((()=>{const e=new Map([[0,"rounded-none"],[4,"rounded-sm"],[8,"rounded"],[12,"rounded-lg"],[16,"rounded-xl"],[20,"rounded-2xl"],[32,"rounded-3xl"]]),a=[...e.keys()].find((e=>_.roundness<=e));return e.get(a)||"rounded-3xl"})),Z=t((()=>{const e="dark"===_.theme||"system"===_.theme&&window.matchMedia?.("(prefers-color-scheme: dark)").matches||_.bgColor&&ae(_.bgColor);return{bg:e?"bg-slate-800/90":"bg-white/90",text:e?"text-slate-200":"text-gray-900",border:e?"border-slate-600/50":"border-gray-300/50",suggestion:e?"bg-slate-700/50":"bg-gray-50/50",suggestionHover:e?"hover:bg-slate-600/50":"hover:bg-gray-100/50"}})),ee=new Map,ae=e=>{if(ee.has(e))return ee.get(e);try{const a=e.replace("#","");if(6!==a.length)return!1;const t=parseInt(a.substr(0,2),16),r=parseInt(a.substr(2,2),16),l=parseInt(a.substr(4,2),16),o=(299*t+587*r+114*l)/1e3<128;return ee.set(e,o),o}catch(a){return ee.set(e,!1),!1}},te=e({}),re=t((()=>{const e=`${_.bgColor}-${_.textColor}-${_.fontFamily}-${_.width}-${_.height}-${_.padding}-${_.margin}`;if(te.value[e])return te.value[e];const a={"--primary-color":_.primaryColor,"--bg-color":_.bgColor,"--text-color":_.textColor,"--font-family":_.fontFamily,"--border-radius":`${_.roundness}px`,"--width":`${_.width}px`,"--height":`${Math.max(_.height,48)}px`,"--padding":`${_.padding}px`,"--margin":`${_.margin}px`,"--border-width":`${_.borderWidth}px`};return te.value[e]=a,a})),le=t((()=>{if(!O.value.trim()||O.value.length<_.minSearchLength)return[];const e=O.value.toLowerCase().trim();return _.suggestions.filter((a=>a.toLowerCase().includes(e))).slice(0,_.maxSuggestions).map((a=>({text:a,highlighted:_.highlightMatches?se(a,e):a,score:oe(a,e)}))).sort(((e,a)=>a.score-e.score))})),oe=(e,a)=>{const t=e.toLowerCase(),r=a.toLowerCase();return t===r?100:t.startsWith(r)?80:t.includes(` ${r}`)?60:t.includes(r)?40:0},se=(e,a)=>{if(!a)return e;const t=new RegExp(`(${a})`,"gi");return e.replace(t,'<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>')},ne=e=>{const a=document.createElement("div");a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),a.className="sr-only",a.textContent=e,document.body.appendChild(a),setTimeout((()=>document.body.removeChild(a)),1e3)},de=e=>{const a=le.value;switch(e.key){case"ArrowDown":e.preventDefault(),!X.value&&a.length>0?(X.value=!0,W.value=0):W.value=Math.min(W.value+1,a.length-1),ue(),ie();break;case"ArrowUp":e.preventDefault(),W.value=Math.max(W.value-1,-1),ue(),ie();break;case"Enter":e.preventDefault(),W.value>=0&&a[W.value]?ve(a[W.value].text):pe();break;case"Tab":_.selectOnTab&&W.value>=0&&a[W.value]&&(e.preventDefault(),ve(a[W.value].text));break;case"Escape":e.preventDefault(),X.value?(X.value=!1,W.value=-1):_.clearOnEscape&&O.value&&ce(),j.value?.focus()}},ue=()=>{l((()=>{if(H.value&&W.value>=0){const e=H.value.children[W.value];e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}}))},ie=()=>{const e=le.value;if(W.value>=0&&e[W.value]){const a=e[W.value].text;ne(`${a}, ${W.value+1} of ${e.length}`)}},pe=()=>{if(O.value.trim()&&!_.disabled){const e=O.value.trim();G.value.includes(e)||(G.value.unshift(e),G.value=G.value.slice(0,10)),L("search",e),X.value=!1,W.value=-1,ne(`Searching for ${e}`)}},ce=()=>{const e=O.value;O.value="",X.value=!1,W.value=-1,L("input",""),L("clear",e),l((()=>{j.value?.focus()})),ne("Search cleared")},ve=e=>{O.value=e,X.value=!1,W.value=-1,G.value.includes(e)||(G.value.unshift(e),G.value=G.value.slice(0,10)),L("input",e),L("suggestion-select",e),l((()=>{j.value?.focus()})),ne(`Selected ${e}`)},ge=()=>{_.disabled||(V.value=!0,L("focus"),le.value.length>0&&_.autoComplete&&(X.value=!0),ne("Search input focused"))},he=()=>{setTimeout((()=>{V.value=!1,X.value=!1,W.value=-1,L("blur")}),150)};return r((()=>{_.autoFocus&&!_.disabled&&l((()=>{j.value?.focus()}));try{const e=localStorage.getItem("dimSearchBar-history");e&&(G.value=JSON.parse(e))}catch(e){console.warn("Failed to load search history:",e)}})),o((()=>{clearTimeout(K);try{localStorage.setItem("dimSearchBar-history",JSON.stringify(G.value))}catch(e){console.warn("Failed to save search history:",e)}ee.clear()})),s((()=>_.loading),(e=>{J.value=e})),s([()=>_.theme,()=>_.primaryColor,()=>_.bgColor],(()=>{te.value={}}),{immediate:!0}),s(O,(e=>{var a;a=e,clearTimeout(K),K=setTimeout((()=>{a===O.value&&(L("input",a),a.length>=_.minSearchLength&&_.autoComplete?(X.value=!0,le.value.length>0&&ne(`${le.value.length} suggestions available`)):X.value=!1)}),_.debounceDelay)})),(e,a)=>S.isDocs?(d(),n("div",q,a[2]||(a[2]=[u('<div class="mb-6 rounded-lg border border-purple-500/20 bg-gradient-to-r from-purple-500/10 to-pink-500/10 p-4" data-v-f0a367a7><h2 class="mb-2 text-2xl font-bold text-purple-300" data-v-f0a367a7>ğŸ” DUIMX Search Bar</h2><p class="text-purple-200" data-v-f0a367a7>A modern, fully reactive search component with auto-suggestions, smart theming, and seamless UX.</p></div><h3 class="text-xl font-semibold text-purple-300 mb-3" data-v-f0a367a7>âœ¨ Features</h3><ul class="mb-6 space-y-2 text-purple-200" data-v-f0a367a7><li data-v-f0a367a7>ğŸ¨ <strong data-v-f0a367a7>Unified Prop Interface</strong> - Consistent with all DUIMX components</li><li data-v-f0a367a7>ğŸŒ“ <strong data-v-f0a367a7>Smart Theme Detection</strong> - Auto-adapts based on background color or theme prop</li><li data-v-f0a367a7>ğŸ’¡ <strong data-v-f0a367a7>Auto-Suggestions</strong> - Real-time filtered suggestions with keyboard navigation</li><li data-v-f0a367a7>ğŸ¯ <strong data-v-f0a367a7>Reactive Controls</strong> - Responds to all layout and style changes instantly</li><li data-v-f0a367a7>ğŸ”§ <strong data-v-f0a367a7>Fully Customizable</strong> - Colors, fonts, sizes, and behavior</li><li data-v-f0a367a7>ğŸ“± <strong data-v-f0a367a7>Mobile Friendly</strong> - Touch-optimized with responsive design</li></ul><h3 class="text-xl font-semibold text-purple-300 mb-3" data-v-f0a367a7>ğŸ› ï¸ Props</h3><div class="mb-6 overflow-x-auto" data-v-f0a367a7><table class="w-full border-collapse border border-purple-500/30" data-v-f0a367a7><thead data-v-f0a367a7><tr class="bg-purple-500/20" data-v-f0a367a7><th class="border border-purple-500/30 p-2 text-left text-purple-300" data-v-f0a367a7>Prop</th><th class="border border-purple-500/30 p-2 text-left text-purple-300" data-v-f0a367a7>Type</th><th class="border border-purple-500/30 p-2 text-left text-purple-300" data-v-f0a367a7>Default</th><th class="border border-purple-500/30 p-2 text-left text-purple-300" data-v-f0a367a7>Description</th></tr></thead><tbody class="text-purple-200" data-v-f0a367a7><tr data-v-f0a367a7><td class="border border-purple-500/30 p-2 font-mono" data-v-f0a367a7>placeholder</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>String</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>&#39;Search anything...&#39;</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Input placeholder text</td></tr><tr data-v-f0a367a7><td class="border border-purple-500/30 p-2 font-mono" data-v-f0a367a7>suggestions</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Array</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Default list</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Array of suggestion strings</td></tr><tr data-v-f0a367a7><td class="border border-purple-500/30 p-2 font-mono" data-v-f0a367a7>theme</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>String</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>&#39;light&#39;</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Theme mode (light/dark/system)</td></tr><tr data-v-f0a367a7><td class="border border-purple-500/30 p-2 font-mono" data-v-f0a367a7>compact</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Boolean</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>false</td><td class="border border-purple-500/30 p-2" data-v-f0a367a7>Compact size mode</td></tr></tbody></table></div><h3 class="text-xl font-semibold text-purple-300 mb-3" data-v-f0a367a7>ğŸ¯ Usage Examples</h3><div class="mb-6 space-y-4" data-v-f0a367a7><div class="rounded-lg border border-purple-500/30 bg-slate-800/50 p-4" data-v-f0a367a7><h4 class="mb-2 text-lg font-semibold text-purple-300" data-v-f0a367a7>Basic Search Bar</h4><pre class="text-sm text-purple-200" data-v-f0a367a7><code data-v-f0a367a7>&lt;DimSearchBar \n  placeholder=&quot;Search products...&quot;\n  @search=&quot;handleSearch&quot;\n  @input=&quot;handleInput&quot;\n/&gt;</code></pre></div><div class="rounded-lg border border-purple-500/30 bg-slate-800/50 p-4" data-v-f0a367a7><h4 class="mb-2 text-lg font-semibold text-purple-300" data-v-f0a367a7>Themed with Custom Suggestions</h4><pre class="text-sm text-purple-200" data-v-f0a367a7><code data-v-f0a367a7>&lt;DimSearchBar \n  placeholder=&quot;Search documentation...&quot;\n  theme=&quot;dark&quot;\n  :roundness=&quot;16&quot;\n  primaryColor=&quot;#10b981&quot;\n  bgColor=&quot;#1f2937&quot;\n  textColor=&quot;#f3f4f6&quot;\n  :suggestions=&quot;[&#39;API Reference&#39;, &#39;Components&#39;, &#39;Examples&#39;]&quot;\n  @search=&quot;handleSearch&quot;\n  @suggestion-select=&quot;handleSuggestion&quot;\n/&gt;</code></pre></div></div><h3 class="text-xl font-semibold text-purple-300 mb-3" data-v-f0a367a7>ğŸ¨ Smart Theming</h3><p class="mb-4 text-purple-200" data-v-f0a367a7>The search bar automatically detects if your background is dark or light and adjusts its styling accordingly. You can also explicitly set the theme.</p><div class="mb-6 rounded-lg border border-purple-500/30 bg-gradient-to-r from-blue-500/10 to-purple-500/10 p-4" data-v-f0a367a7><p class="text-center text-purple-200" data-v-f0a367a7><strong data-v-f0a367a7>ğŸ’¡ DUIMX Tip:</strong> The search bar becomes reactive to all control changes in the playground - try adjusting the theme, colors, or size! </p></div><div class="text-center text-xs text-purple-400 opacity-75" data-v-f0a367a7> Part of the <strong data-v-f0a367a7>DUIMX</strong> component library ğŸš€ </div>',11)]))):(d(),n("div",{key:1,ref_key:"searchBarRef",ref:E,class:h(["dim-search-bar",[Q.value,Z.value.bg,Z.value.text,"relative","transition-all","duration-200","group",{"opacity-50 cursor-not-allowed":_.disabled},{"ring-2 ring-opacity-50":V.value},{"scale-105":V.value&&!_.disabled}]]),style:g(re.value)},[i("div",{ref_key:"cssVariablesRef",ref:Y,class:"absolute inset-0 pointer-events-none opacity-0"},null,512),a[5]||(a[5]=i("div",{class:"absolute top-0 right-0 z-50 bg-purple-600/80 backdrop-blur-sm rounded-bl-lg px-2 py-1 pointer-events-none"},[i("span",{class:"text-xs text-white/80"},"v0.9.7")],-1)),i("div",B,[i("div",D,[J.value||_.loading?(d(),n("div",M,a[3]||(a[3]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]))):(d(),v(b($),{key:1,icon:["fas","search"],class:h(["w-5 h-5 transition-all duration-200",{"text-opacity-60":!V.value}]),style:g({color:_.textColor})},null,8,["class","style"]))]),c(i("input",{ref_key:"searchInputRef",ref:j,"onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),placeholder:_.placeholder,disabled:_.disabled,class:h(["search-input w-full pl-10 pr-20 py-3 bg-transparent border-0 outline-none transition-all duration-200",{"cursor-not-allowed":_.disabled,"text-opacity-60":_.disabled}]),style:g({fontFamily:_.fontFamily,color:_.textColor,fontSize:_.compact?"14px":"16px"}),"aria-label":_.placeholder,"aria-expanded":X.value,"aria-haspopup":!0,"aria-activedescendant":W.value>=0?`suggestion-${W.value}`:null,autocomplete:"off",role:"combobox",onInput:a[1]||(a[1]=e=>O.value=e.target.value),onKeydown:de,onFocus:ge,onBlur:he},null,46,F),[[f,O.value]]),p(x,{name:"fade",mode:"out-in"},{default:m((()=>[O.value&&!_.disabled?(d(),n("button",{key:0,onClick:ce,class:"clear-button absolute right-12 z-10 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-110",style:g({color:_.textColor}),"aria-label":"Clear search",type:"button"},[p(b($),{icon:["fas","times"],class:"w-4 h-4"})],4)):y("",!0)])),_:1}),i("button",{onClick:pe,disabled:_.disabled||!O.value.trim(),class:h(["search-button absolute right-2 z-10 p-2 rounded transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-opacity-50",{"opacity-50 cursor-not-allowed":_.disabled||!O.value.trim(),"hover:shadow-lg":!_.disabled&&O.value.trim()}]),style:g({backgroundColor:_.primaryColor,color:"white","--tw-ring-color":_.primaryColor}),"aria-label":"Search",type:"button"},[p(b($),{icon:["fas","search"],class:"w-4 h-4"})],14,T)]),i("div",{class:h(["search-border absolute inset-0 pointer-events-none transition-all duration-300 ease-out",[Q.value,Z.value.border]]),style:g({border:`${_.borderWidth||1}px solid ${_.primaryColor}${V.value?"80":"40"}`,boxShadow:V.value?`0 0 0 3px ${_.primaryColor}20`:"none",transform:V.value?"scale(1.02)":"scale(1)"})},null,6),p(x,{name:"suggestions",mode:"out-in"},{default:m((()=>[X.value&&le.value.length>0&&!_.disabled?(d(),n("div",{key:0,ref_key:"suggestionsRef",ref:H,class:h(["suggestions-dropdown absolute top-full left-0 right-0 mt-2 z-30 max-h-64 overflow-y-auto backdrop-blur-xl",[Q.value,Z.value.bg,Z.value.border,"border","shadow-2xl","ring-1","ring-black","ring-opacity-5"]]),role:"listbox","aria-label":`${le.value.length} search suggestions`},[(d(!0),n(w,null,C(le.value,((t,r)=>(d(),n("div",{key:`${t.text}-${r}`,id:`suggestion-${r}`,class:h(["suggestion-item flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-150 border-b border-opacity-10 last:border-0",[Z.value.suggestionHover,{"bg-opacity-80":r===W.value,"ring-2 ring-opacity-50":r===W.value,"scale-[1.02]":r===W.value}]]),style:g({backgroundColor:r===W.value?`${_.primaryColor}25`:"transparent",color:_.textColor,fontFamily:_.fontFamily,"--tw-ring-color":r===W.value?_.primaryColor:"transparent"}),role:"option","aria-selected":r===W.value,onMousedown:e=>(e=>{ve(e)})(t.text),onMouseenter:e=>(e=>{W.value=e})(r)},[a[4]||(a[4]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"w-4 h-4 opacity-60",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})])],-1)),i("span",{class:"flex-1 truncate",innerHTML:t.highlighted},null,8,P),e.$DEV?(d(),n("div",N,k(t.score),1)):y("",!0)],46,z)))),128)),O.value&&0===le.value.length?(d(),n("div",{key:0,class:"px-4 py-3 text-center opacity-60",style:g({color:_.textColor,fontFamily:_.fontFamily})}," No suggestions found ",4)):y("",!0)],10,I)):y("",!0)])),_:1}),i("div",A,[X.value&&le.value.length>0?(d(),n("span",R,k(le.value.length)+" suggestions available. Use arrow keys to navigate. ",1)):y("",!0)])],6))}},[["__scopeId","data-v-f0a367a7"]]);export{U as default};
